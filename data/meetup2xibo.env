# Example Configuration for Meetup2xibo

# Example keys and secrets are ficticious, but similar to real data.
 

#####################################################
# Meetup API
#####################################################

# Meetup API key
export MEETUP_API_KEY="78e51674642202e288845ba78239004a"

# URL name for Meetup group
export MEETUP_GROUP_URL_NAME="NOVA-Makers"

# Number of events to request from Meetup
export MEETUP_EVENTS_WANTED=200


#####################################################
# Xibo API
#####################################################

# XIBO host name and port
export XIBO_HOST="xibo.nova-labs.org"
export XIBO_PORT=443

# XIBO clent ID
export XIBO_CLIENT_ID='4c13f92f59d7e41462f576bfd3036b'

# XIBO client secret
export XIBO_CLIENT_SECRET='324221d117874c96e76c446d6c9b9274561efa855ad892848159ab63afdc18a9bfbd3d08b025d05df19e936f10d2110a15bebf0cde563889cca28e782e179a00'


#####################################################
# Xibo Event Dataset
#####################################################

# Code name assigned to the event schedule dataset in Xibo
export EVENT_DATASET_CODE=novalabsschedule

# Event column names defined via the Xibo web interface
export MEETUP_ID_COLUMN_NAME="Meetup ID"
export NAME_COLUMN_NAME="Name"
export LOCATION_COLUMN_NAME="Location"
export START_TIME_COLUMN_NAME="ISO Start Time"
export END_TIME_COLUMN_NAME="ISO End Time"

# Column name for the internal ID number used by Xibo
export XIBO_ID_COLUMN_NAME="id"


#####################################################
# Xibo Site Certificate
#####################################################

# Location of self-signed certificate, if needed
#export SITE_CA_PATH=/etc/ssl/certs/apache-selfsigned.crt


#####################################################
# Location Conversion
#####################################################

# Default event location
export DEFAULT_LOCATION="Nova Labs",

# Location phrases to match and their corresponding locations.
# Matching will ignore exact spacing and letter case.
export LOCATION_PHRASES='[
    {"phrase": "Blacksmithing",		"location": "Blacksmithing Alley outside behind Nova Labs"},
    {"phrase": "CAD Lab",		"location": "CAD Lab"},
    {"phrase": "Classroom A and B",	"location": "Classroom A/B"},
    {"phrase": "Classroom A",		"location": "Classroom A"},
    {"phrase": "Classroom A/B",		"location": "Classroom A/B"},
    {"phrase": "Classroom A, B",	"location": "Classroom A/B"},
    {"phrase": "Classroom B",		"location": "Classroom B"},
    {"phrase": "Classrooms A and B",	"location": "Classroom A/B"},
    {"phrase": "Computer Lab",		"location": "Computer Lab"},
    {"phrase": "Conf Rm 1",		"location": "Conference Room 1"},
    {"phrase": "Conf Rm 2",		"location": "Conference Room 2"},
    {"phrase": "Ccnf rm 2",		"location": "Conference Room 2"},
    {"phrase": "Conf Rm 3",		"location": "Conference Room 3"},
    {"phrase": "Conference rm 1",	"location": "Conference Room 1"},
    {"phrase": "Conference rm 2",	"location": "Conference Room 2"},
    {"phrase": "Conference rm 3",	"location": "Conference Room 3"},
    {"phrase": "Conference room 1",	"location": "Conference Room 1"},
    {"phrase": "Conference room 2",	"location": "Conference Room 2"},
    {"phrase": "Conference room 3",	"location": "Conference Room 3"},
    {"phrase": "Green Way",		"location": "Green Way"},
    {"phrase": "Greenway",		"location": "Green Way"},
    {"phrase": "Metal shop",		"location": "Metal Shop"},
    {"phrase": "Metalshop",		"location": "Metal Shop"},
    {"phrase": "Orange Bay",		"location": "Orange Bay"},
    {"phrase": "Orange room",		"location": "Orange Bay"},
    {"phrase": "out back",		"location": "Blacksmithing Alley outside behind Nova Labs"},
    {"phrase": "outback",		"location": "Blacksmithing Alley outside behind Nova Labs"},
    {"phrase": "Wood shop",		"location": "Woodshop"},
    {"phrase": "Woodshop",		"location": "Woodshop"}
]'

# More location phrases, used only when the first list fails
export MORE_LOCATION_PHRASES='[
    {"phrase": "Nova Labs",		"location": "Nova Labs"},
    {"phrase": "TBD",			"location": "TBD"}
]'

# Special Locations
# Some Meetup events have missing, intractable, or incorrect locations. List
# the Meetup ID to suppress warnings about missing locations. A non-blank
# location replaces the default location and can replace the computed location.
# Any comment helps document this file.  When true, the override flag forces a
# non-blank location to replace the computed location.

# Template:
#    {"meetup_id": "", "location": "", "comment": "", "override": false},
export SPECIAL_LOCATIONS='[
    {"meetup_id": "259565142", "location": "Orange Bay", "comment": "Empower2Make", "override": false},
    {"meetup_id": "lrzgqpyzfbhb", "location": "Private", "comment": "Private meeting", "override": true},
    {"meetup_id": "259083135", "location": "Conference Room 3", "comment": "Location in event name", "override": false}
]'


#####################################################
# Timezone
#####################################################

# Timezone for events in Xibo
export TIMEZONE="America/New_York"


#####################################################
# Date/Time Thresholds
#####################################################

# Meetup sometimes fails to report current and very recent events while Xibo
# still should display them. Do not delete Xibo events scheduled within this
# window before and after the current time.

# Do not delete an event unless it starts this number of hours in the future
export DELETE_BEFORE_START_HOURS=2

# Do not delete an event until this number of hours after it ends
export DELETE_AFTER_END_HOURS=192

# Meetup reports some fixed number (hundreds) of future events. As new near-term events are added to the calendar,
# some previously reported far future events are bumped from the report. To avoid flapping, do not delete them.

# Do not delete events that end more than this number of days in the future.
export DELETE_UNTIL_FUTURE_DAYS=50

# Ignore cancelled events after this number of days, treating them as deleted.
export IGNORE_CANCELLED_AFTER_DAYS=7
